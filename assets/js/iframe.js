var KRuQZYzyGZ,vktrUabOUS,improvebot_ulcards,socket,improvebotUniqIdChat,mensajeterminoLiveChatIB,nextFAQLiveChatIB,mensajeContinuarLiveChatIB,improvebot_ipCliente,splide,DChCJiXPDX="https://tfn.krino.ai/",EUEfixfCco="https://static-for-flask-krino.s3.amazonaws.com/",jHBpBbxbzB=0,improvebotSonido=new Audio("https://static-for-flask-krino.s3.amazonaws.com/archivos/popup.mp3"),improvebotSonidoFlag=!0,yKRsYXgiwS=document.getElementById("improve-bot"),improvebot_delivery_check=0,improvebot_iniciado=!1,improvebot_cantidadBotones=0,improvebotHistorial=[],divInicial=document.createElement("div"),improvebot_textoinicio="",improveBotCallToActionFlag=!0,improveBotNameFlag=!1,improvebotHistorialFlag=!0,improvebotLiveChatFlag=!1,improvebotLiveChatFlagInitSocket=!1;window.sessionStorage.removeItem("jHBpBbxbzB");var improvebot_paginaCliente="",improvebot_dominioCliente="",envioAction=!0;async function activarCDNSockerIO(){await import("https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js")}async function activarCDNCarousel(){await import("https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js");var e=document.createElement("link");e.href="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css",e.type="text/css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e)}async function activarCSSImproveBot(){var e=document.createElement("link");e.href="https://improvebot.krino.ai/e4d798d154509684de5b69af7cb4e31396263913e6b1b0f6a7e4f218007006ac",e.type="text/css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e)}async function activarPopUp(){var e=document.createElement("link");e.href="https://improvebot.krino.ai/089633241e5153e1bad5955e493abf946208f0495b57c568fee44a758ce5a0a5",e.type="text/css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e);var t=document.createElement("script");t.src="https://improvebot.krino.ai/8fd59e8aebec2f43df0da70d6c33b557b8efa0cdb50b7dc793920f4d05f1bb94",document.body.appendChild(t)}async function improvebot_reemplazarNegritas(e){return new Promise(t=>{var i=0,o=0,a="";for(let n in e)o++,"*"===e[n]?1==++i?a+="<b>":2===i&&(i=0,a+="</b>"):o-1==e.length?o=0:a+=e[n];t(a)})}async function improvebot_reemplazarSaltosLinea(e){return new Promise(t=>{t(e=e.replace(/\\n/g,"<br />"))})}function improvebot_cambiarEstadoBanderaLiveChat(e){!0==(improvebotLiveChatFlag=e)&&(fetch("https://socket-improve.krino.ai/api/wsp/connection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idchat:jHBpBbxbzB})}),layRMXrLNe())}async function improvebotInit(){await TMWimaQXDx(),activarCSSImproveBot(),200===gTBrmIzuvr.id&&activarPopUp(),null==gTBrmIzuvr&&(gTBrmIzuvr=await improveBotGetBot(31)),improvebot_textoinicio=185==gTBrmIzuvr.id?"\xa1Hola! Soy Ema, tu mesera virtual":193==gTBrmIzuvr.id?"\xa1Hola! \uD83D\uDC4B Soy Hans. \xbfQuieres participar en un concurso?":"nada"!=gTBrmIzuvr.textCTA?gTBrmIzuvr.textCTA:" \xa1Hola! \uD83D\uDC4B Soy "+gTBrmIzuvr.name_bot+". \xbfEn qu\xe9 puedo ayudarte?",improvebotElementsInit(),setTimeout(function(){divInicial.classList.add("RTShwqPmbn")},1e3)}improvebot_origen=window.location.origin,improvebot_paginaCliente=(improvebot_dominioCliente=(improvebot_dominioCliente=document.domain.replace("www.","")).replace("dev.","")).replace(".cl",""),fetch("https://ipapi.co/json/").then(e=>e.json()).then(e=>{console.log(e),improvebot_ipCliente=e.ip}),fetch("https://improvebot.krino.ai/59a8c4a6920e89faa9e46bfd2bfeacffb82c4ba64f5862021abe759cbed04301",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_agent:navigator.userAgent,id_bot:gTBrmIzuvr.id,id_chat:"",ip:"",origin:window.location.origin,href:window.location.href,pathname:window.location.pathname})}).then(e=>e.json()).then(e=>{improvebotUniqIdChat=e.response,console.log(improvebotUniqIdChat)}).catch(e=>{console.error(e)});var improvebot_buttonsElements=[];async function layRMXrLNe(){if(improvebot_cantidadBotones=0,!1==improvebotLiveChatFlag){var e={bot:gTBrmIzuvr.id,chat:parseInt(jHBpBbxbzB),url:JSON.stringify(window.location)};improvebotPetition("get_custom_chat",e).then(e=>{if(Object.keys(e).length>0){var t=0;improveBotDeactivateInput(),improvebot_buttonsElements=[];var i=document.getElementById("improve_buttons");for(let o in i.innerHTML="",e.elementos)if(Object.keys(e.elementos.btnliveChat).length>0)console.log("ejecutar primero e ignorar el resto");else if(Object.keys(e.elementos[o]).length>0){if("btnFaq"==o){improvebot_cantidadBotones++;var i=document.getElementById("improve_buttons");i.innerHTML="",ozRadApFvB(e.elementos[o],o)}else{if(document.getElementById("improvebot_animaciontemporal"));else{var a=improvebotChatBubble();vktrUabOUS.append(a)}setTimeout(function(){if(document.getElementById("improvebot_animaciontemporal"))ozRadApFvB(e.elementos[o],o),improveBotLimpiarBurbuja();else{var t=improvebotChatBubble();vktrUabOUS.append(t),setTimeout(function(){ozRadApFvB(e.elementos[o],o),improveBotLimpiarBurbuja()},500)}},1e3+t),t+=1e3}improveBotActivateInput()}}}).catch(e=>{console.error(e)})}else activarCDNSockerIO().then(function(e){improvebotLiveChatFlagInitSocketFunction()})}var improvebot_FAQActual=0;async function ozRadApFvB(e,t){if(0==improvebot_delivery_check&&(185==gTBrmIzuvr.id&&improvebot_deliveryGourmetAPI(),improvebot_delivery_check+=1),Object.keys(e).length>0)switch(console.log(e),t){case"label":for(let i in improvebot_FAQActual=t.sub_faq>0?t.sub_faq:t.faq,e){var o=await improvebot_reemplazarNegritas(e[i].contenido);o=await improvebot_reemplazarSaltosLinea(o),null==e[i].contenido||""==e[i].contenido||" "==e[i].contenido||JAygyvzSWO(!1,o),improveBotLimpiarBurbuja()}break;case"btnliveChat":nextFAQLiveChatIB=e[0].sub_faq,mensajeContinuarLiveChatIB=e[0].reactivacion,improvebotCambiarEstadoALiveChat(e[0].inicio,e[0].termino);break;case"connectFaq":for await(let a of e)if("file"==a.tipo){improveBotDeactivateInput();var n=document.createElement("div");n.style.display="flex",a.sub_faq>0?a.sub_faq:a.faq;var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("id","file_"+a.id),r.setAttribute("accept","image/*,application/pdf"),r.style.borderRadius="5px",r.style.border="0.12px solid #00000057",r.style.fontSize="inherit !important",r.style.boxShadow="0px 3px 6px 0px rgba(0,0,0,0.55)";var l=document.getElementById("improvebot_footerPrincipal");l.style.display="none";var s=document.createElement("button");s.innerHTML="Env\xedar",s.style.boxShadow="0px 4px 6px 0px rgba(0,0,0,0.55)",s.style.color="white",s.style.backgroundColor=gTBrmIzuvr.color,s.style.marginLeft="5%",s.style.textAlign="center",s.setAttribute("id","improveBot_btnsendName"),s.addEventListener("click",function(e){e.preventDefault();var t=r.files[0],i=r.files[0].name,o=i.lastIndexOf(".");i.substring(0,o);var n=i.substring(o+1);getBase64(t).then(e=>{var t=a.sub_faq>0?a.sub_faq:a.faq;improvebot_FAQActual=t,s.style.display="none","pdf"==n?improvebotPetition("get_ans",{faq:t,bot:gTBrmIzuvr.id,chat:HAdmOsSMIr(),setence:r.files[0].name,url:JSON.stringify(window.location),id_cliente:gTBrmIzuvr.id_fk_cliente,base64_:e,mimeType:r.files[0].type,extensionArchivo:n}).then(e=>{for(let t in improveBotLimpiarBurbuja(),e.elementos);for(let o in JAygyvzSWO(!0,"Archivo enviado: "+i,"yes"),e.elementos){if("btnliveChat"==o){ozRadApFvB(e.elementos[o],o);break}ozRadApFvB(e.elementos[o],o)}document.getElementById("improve_buttons").innerHTML=""}).catch(e=>{console.error(e)}):improvebotPetition("get_ans",{faq:t,bot:gTBrmIzuvr.id,chat:HAdmOsSMIr(),setence:r.files[0].name,url:JSON.stringify(window.location),id_cliente:gTBrmIzuvr.id_fk_cliente,base64_:e,mimeType:"application/image",extensionArchivo:n}).then(e=>{for(let t in improveBotLimpiarBurbuja(),JAygyvzSWO(!0,"Archivo enviado: "+i,"yes"),deliverygourmet,e.elementos)ozRadApFvB(e.elementos[t],t);document.getElementById("improve_buttons").innerHTML=""}).catch(e=>{console.error(e)})}),improvebot_cantidadBotones=0,improvebot_limpiarBotones()}),n.append(r),n.append(s),JAygyvzSWO(!1,n)}else if("foto"==a.tipo){improveBotDeactivateInput();var n=document.createElement("div");n.style.display="flex",a.sub_faq>0?a.sub_faq:a.faq;var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("id","file_"+a.id),r.setAttribute("accept","image/*"),r.style.borderRadius="5px",r.style.border="0.12px solid #00000057",r.style.boxShadow="0px 3px 6px 0px rgba(0,0,0,0.55)";var l=document.getElementById("improvebot_footerPrincipal");l.style.display="none";var s=document.createElement("button");s.innerHTML="Env\xedar",s.style.boxShadow="0px 4px 6px 0px rgba(0,0,0,0.55)",s.style.color="white",s.style.backgroundColor=gTBrmIzuvr.color,s.style.marginLeft="5%",s.style.textAlign="center",s.setAttribute("id","improveBot_btnsendName"),s.addEventListener("click",function(e){e.preventDefault();var t=r.files[0],i=r.files[0].name,o=i.lastIndexOf(".");i.substring(0,o);var n=i.substring(o+1);getBase64(t).then(e=>{var t=a.sub_faq>0?a.sub_faq:a.faq;improvebot_FAQActual=t,s.style.display="none","pdf"==n?improvebotPetition("get_ans",{faq:t,bot:gTBrmIzuvr.id,chat:HAdmOsSMIr(),setence:r.files[0].name,url:JSON.stringify(window.location),id_cliente:gTBrmIzuvr.id_fk_cliente,base64_:e,mimeType:r.files[0].type,extensionArchivo:n}).then(e=>{for(let t in improveBotLimpiarBurbuja(),JAygyvzSWO(!0,"Archivo enviado: "+i,"yes"),e.elementos)ozRadApFvB(e.elementos[t],t);document.getElementById("improve_buttons").innerHTML=""}).catch(e=>{console.error(e)}):improvebotPetition("get_ans",{faq:t,bot:gTBrmIzuvr.id,chat:HAdmOsSMIr(),setence:r.files[0].name,url:JSON.stringify(window.location),id_cliente:gTBrmIzuvr.id_fk_cliente,base64_:e,mimeType:"application/image",extensionArchivo:n}).then(e=>{for(let t in improveBotLimpiarBurbuja(),JAygyvzSWO(!0,"Archivo enviado: "+i,"yes"),e.elementos)ozRadApFvB(e.elementos[t],t);document.getElementById("improve_buttons").innerHTML=""}).catch(e=>{console.error(e)})}),improvebot_cantidadBotones=0,improvebot_limpiarBotones()}),n.append(r),n.append(s),JAygyvzSWO(!1,n)}else if("pdf"==a.tipo){improveBotDeactivateInput();var n=document.createElement("div");n.style.display="flex",a.sub_faq>0?a.sub_faq:a.faq;var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("id","file_"+a.id),r.setAttribute("accept","application/pdf"),r.style.borderRadius="5px",r.style.border="0.12px solid #00000057",r.style.boxShadow="0px 3px 6px 0px rgba(0,0,0,0.55)";var l=document.getElementById("improvebot_footerPrincipal");l.style.display="none";var s=document.createElement("button");s.innerHTML="Env\xedar",s.style.boxShadow="0px 4px 6px 0px rgba(0,0,0,0.55)",s.style.color="white",s.style.backgroundColor=gTBrmIzuvr.color,s.style.marginLeft="5%",s.style.textAlign="center",s.setAttribute("id","improveBot_btnsendName"),s.addEventListener("click",function(e){e.preventDefault();var t=r.files[0],i=r.files[0].name,o=i.lastIndexOf(".");i.substring(0,o);var n=i.substring(o+1);getBase64(t).then(e=>{var t=a.sub_faq>0?a.sub_faq:a.faq;improvebot_FAQActual=t,s.style.display="none",improvebotPetition("get_ans",{faq:t,bot:gTBrmIzuvr.id,chat:HAdmOsSMIr(),setence:r.files[0].name,url:JSON.stringify(window.location),id_cliente:gTBrmIzuvr.id_fk_cliente,base64_:e,mimeType:r.files[0].type,extensionArchivo:n}).then(e=>{for(let t in improveBotLimpiarBurbuja(),JAygyvzSWO(!0,"Archivo enviado: "+i,"yes"),e.elementos)ozRadApFvB(e.elementos[t],t);document.getElementById("improve_buttons").innerHTML=""}).catch(e=>{console.error(e)})}),improvebot_cantidadBotones=0,improvebot_limpiarBotones()}),n.append(r),n.append(s),JAygyvzSWO(!1,n)}else if("esperaFormulario"==a.tipo)activarCDNSockerIO().then(function(e){improvebotLiveChatFlagInitSocketFunction()});else{improveBotActivateInput();var p=e=>{e.preventDefault(),improvebot_cantidadBotones=0,improvebot_limpiarBotones(),improvebot_FAQActual=a.sub_faq>0?a.sub_faq:a.faq,JAygyvzSWO(!0,document.getElementsByClassName("IUBdLFSJey")[0].textContent,"yes")};document.getElementById("improvebot_footerPrincipal").style.display="flex"}break;case"btnFaq":for await(let d of e){if(improveBotDeactivateInput(),console.log("Cantidad de Botones"+e.length),e.length>5){var c=document.getElementById("improve_buttons");c.style.overflowY="scroll",c.style.Height="25rem",c.style.minHeight="200px"}else{var c=document.getElementById("improve_buttons");c.style.overflowY="inherit",e.length>2?(c.style.overflowY="scroll",c.style.Height="15rem",c.style.minHeight="200px"):c.style.minHeight="100px"}var p=e=>{e.preventDefault(),improvebot_cantidadBotones=0,improvebot_limpiarBotones();var t=d.sub_faq>0?d.sub_faq:d.faq;improvebot_FAQActual=t;var i=improvebotChatBubble();vktrUabOUS.append(i),KRuQZYzyGZ.focus(),improvebotPetition("get_ans",{faq:t,bot:gTBrmIzuvr.id,chat:HAdmOsSMIr(),setence:d.contenido,url:JSON.stringify(window.location),id_cliente:gTBrmIzuvr.id_fk_cliente}).then(e=>{for(let t in improveBotLimpiarBurbuja(),JAygyvzSWO(!0,d.contenido,"yes"),e.elementos){if("btnliveChat"===t&&e.elementos[t].length>0){try{nextFAQLiveChatIB=e.elementos[t][0].sub_faq,mensajeContinuarLiveChatIB=e.elementos[t][0].reactivacion,improvebotCambiarEstadoALiveChat(e.elementos[t][0].inicio,e.elementos[t][0].termino)}catch{nextFAQLiveChatIB=e.elementos[t][sub_faq],mensajeContinuarLiveChatIB=e.elementos[t].reactivacion,improvebotCambiarEstadoALiveChat(e.elementos[t].inicio,e.elementos[t].termino)}break}ozRadApFvB(e.elementos[t],t)}document.getElementById("improve_buttons").innerHTML=""}).catch(e=>{console.error(e)})};null==d.contenido||""==d.contenido||" "==d.contenido||gzTaKGCLli(d.contenido,p)}break;case"btnHref":for await(let m of e){var v=function(e){e.preventDefault(),window.open(m.link,"_blank")};gzTaKGCLli(m.contenido,v)}break;case"card":for await(let b of(console.log(e),document.getElementById("improve_buttons").style.display="none",e)){var p=e=>{e.preventDefault(),improvebot_cantidadBotones=0,improvebot_limpiarBotones(),JAygyvzSWO(!0,b.titulo),improvebotPetition("get_ans",{faq:b.sub_faq,bot:gTBrmIzuvr.id,chat:HAdmOsSMIr(),setence:b.titulo,url:JSON.stringify(window.location),id_cliente:gTBrmIzuvr.id_fk_cliente}).then(e=>{improveBotLimpiarBurbuja(),console.log(e),improvebot_limpiarCards();var t=document.getElementById("improve_buttons");for(let i in t.style.display="block",e.elementos){if("btnliveChat"===i&&e.elementos[i].length>0){nextFAQLiveChatIB=e.elementos[i].sub_faq,mensajeContinuarLiveChatIB=e.elementos[i].reactivacion,improvebotCambiarEstadoALiveChat(e.elementos[i].inicio,e.elementos[i].termino);break}ozRadApFvB(e.elementos[i],i)}var t=document.getElementById("improve_buttons");t.innerHTML=""}).catch(e=>{console.error(e)})},y=document.createElement("img");y.src=b.link;var u=document.createElement("div");y.style.width="100%",y.style.height="11rem",y.style.borderTopRightRadius="5%",y.style.borderTopLeftRadius="5%",y.style.objectFit="fill";var g=document.createElement("h4"),f=document.createElement("a"),h=document.createElement("p"),$=document.createElement("button");$.innerHTML="Agregar",$.style.width="100%",f.innerHTML=b.titulo,f.style.height="20%",f.style.lineHeight="0.6 !important",f.style.fontWeight="800",f.classList.add("S3Jpbm9fX2NsYXNzX25vb3A"),h.style.height="5rem",h.style.maxHeight="7rem",h.style.overflowY="auto",h.style.fontFamily="Poppins,sans-serif",f.style.fontSize="x-small",f.style.fontFamily="Poppins,sans-serif",h.innerHTML=b.desc;var B=LmPgXDUjpk(gTBrmIzuvr.color);$.style.color=WuuUyRhAzc(B.r,B.g,B.b)?"#FFFFFF":"#000000",$.style.backgroundColor=gTBrmIzuvr.color,$.addEventListener("click",p);var E=document.createElement("div");E.classList.add("product-price");var L=document.createElement("div");L.classList.add("product-bottom-details");var x=document.createElement("div");x.classList.add("product-details");var I=document.createElement("div");I.classList.add("product-tumb"),I.style.display="block",I.style.height="11rem",I.style.width="14rem",I.style.padding="0%",x.style.display="block",x.style.height="100%",L.style.display="block",L.style.height="10%",E.style.width="100%",E.style.backgroundColor="100%",E.style.display="block";var k=document.createElement("div");k.classList.add("product-card"),k.style.height="21rem",g.append(f),x.append(g),x.append(h),x.append(L),L.append(E),E.append($),I.append(y),k.append(I),k.append(x),k.style.width="100%",k.style.borderRadius="5%",x.style.marginTop="3%",improvebot_writecard_element(k)}break;case"btnMenu":case"file":break;case"btnCalendly":var $=document.createElement("button");$.innerHTML="Click para agendar cita",$.addEventListener("click",function(t){ImproveBot_dibujarBotonCalendly(e.href)}),$.style.backgroundColor="transparent",JAygyvzSWO(!1,$);break;case"imgDiv":var C=document.getElementById("improvebot_listaPrincipal");for(let A in e){var S=document.createElement("img");S.setAttribute("class","improvebotIMG"),S.setAttribute("src",e[A].img),S.style.width="90%",S.style.height="auto",S.style.borderBottomLeftRadius="10%",S.style.borderBottomRightRadius="10%",S.style.borderTopRightRadius="10%",S.addEventListener("click",function(t){t.preventDefault(),window.open(e.href?e.href:e[A].img,"_blank")}),C.append(S),UzBKRiDTSK()}break;case"slctd":improveBotNameFlag=!0;break;case"EApi":var _=document.createElement("div"),w=document.createElement("form");improvebotPetition("get_formulario",{id_enpoint:e.contenido,url:window.location.origin}).then(t=>{improveBotLimpiarBurbuja(),t.forEach(t=>{w.id="formularioApi"+e.contenido,u=document.createElement("div");var i=document.createElement("label"),o=document.createElement("input");i.innerHTML=t.llave,o.placeholder=t.llave,o.name=t.llave,o.type=e.href,u.append(i),u.append(o),w.append(u)})});var z=document.createElement("button");z.type="submit",z.addEventListener("click",t=>{t.preventDefault();var i=new FormData;i.append("id_api",e.href),i.append("ruta",e.contenido);for(var o=document.getElementById(w.id),a=0;a<o.length;a++)i.append(o[a].name,o[a].value);improvebotSendApi("get_api_formulario",i).then(e=>{})}),z.innerHTML="enviar",_.append(w),_.append(z),JAygyvzSWO(!1,_)}}function getBase64(e){return new Promise((t,i)=>{var o=new FileReader;o.readAsDataURL(e),o.onload=()=>{var e=o.result.toString().replace(/^data:(.*,)?/,"");e.length%4>0&&(e+="=".repeat(4-e.length%4)),t(e)},o.onerror=e=>i(e)})}function ImproveBot_sendName(){var e=document.getElementById("improveBot_inputName");improvebotSendNameInputApi(e.value).then(e=>{}).catch(e=>{console.error(e)}),e.setAttribute("disabled",""),document.getElementById("improveBot_btnsendName").setAttribute("disabled",""),document.getElementById("improvebot_footerPrincipal").style.display="flex"}function ImproveBot_dibujarBotonCalendly(e){var t=document.createElement("div");t.style.height="100%",t.setAttribute("id","improvebot_diviframe");var i=document.createElement("button");i.type="button",i.setAttribute("id","improvebot_btnback"),i.innerText="Volver al chat";var o=document.createElement("iframe");o.setAttribute("class","calendly"),o.setAttribute("src",e),o.style.width="100%",o.style.height="85%";var a=document.getElementById("improvebot_contenedorPrincipal"),n=document.getElementById("improvebot_listaPrincipal"),r=document.getElementById("improvebot_footerPrincipal");document.getElementById("improvebot_poweredbyPrincipal").style.display="none",n.style.display="none",r.style.display="none",i.addEventListener("click",ImproveBot_ComeBackButton),i.style.padding="10px",i.style.margin="5px",i.style.color="#ffffff",i.style.backgroundColor=gTBrmIzuvr.color,i.style.boxShadow="0px 4px 6px 0px rgba(0,0,0,0.55)";var l=document.createElement("div");l.classList.add("poweredByKrino"),l.setAttribute("id","improvebot_poweredbySecundario");var s=document.createElement("img");s.src="https://static-for-flask-krino.s3.amazonaws.com/static/img/Logo_K_Krino(2).png",s.classList.add("poweredbyimprovebot");var p=document.createElement("button");p.classList.add("buttonKImproveBot"),p.style.display="inline-flex";var d=document.createElement("a");d.classList.add("poweredByKrinoAHref"),d.href="https://krino.ai/",d.target="_blank";var c=document.createElement("span");c.innerText="Power by Krino",c.classList.add("textImproveUsedBy"),c.style.marginTop="2%",c.style.verticalAlign="50% !important",c.style.marginLeft="5px",d.append(s),p.append(d),p.append(c),l.append(p),t.append(i),t.append(o),t.append(l),a.append(t)}function improvebot_limpiarCards(){var e=Array.prototype.slice.call(document.getElementsByClassName("splide__slide"),0);for(var t of e)t.remove();var i=Array.prototype.slice.call(document.getElementsByClassName("splide__pagination"),0);for(var o of i)o.remove();var a=document.getElementsByClassName("splide__arrow--next"),n=document.getElementsByClassName("splide__arrow--prev");a[0].style.boxSizing="border-box",n[0].style.boxSizing="border-box"}function improvebot_limpiarBotones(){var e=Array.prototype.slice.call(document.getElementsByClassName("SweWCzGWfE"),0);for(var t of e)t.remove();var i=Array.prototype.slice.call(document.getElementsByClassName("Buttons_improve"),0);for(var t of i)t.remove()}function improvebotChatBubble(){var e=document.createElement("li");e.setAttribute("id","improvebot_animaciontemporal");var t=document.createElement("div");t.classList.add("chat-bubble-improvebot-inchat");var i=document.createElement("div");i.classList.add("typing-improvebot");var o=document.createElement("div");o.classList.add("dot-improvebot");var a=document.createElement("div");a.classList.add("dot-improvebot");var n=document.createElement("div");return n.classList.add("dot-improvebot"),i.append(o),i.append(a),i.append(n),t.append(i),e.append(t),e}function improvebotElementsInit(){divInicial.classList.add("dnnoPQOJXG"),yKRsYXgiwS.append(divInicial),divInicial.setAttribute("id","improvebot_DivPrincipal"),"left"==gTBrmIzuvr.position&&(divInicial.style.left="20px",divInicial.style.right="auto"),activarCDNCarousel(),"no"===gTBrmIzuvr.logo?divInicial.style.backgroundColor=gTBrmIzuvr.color:(divInicial.style.backgroundImage='url("'+gTBrmIzuvr.logo+'")',divInicial.style.backgroundPosition="center",divInicial.style.backgroundSize="contain",divInicial.style.borderRadius="42px",divInicial.style.backgroundRepeat="no-repeat");var e=document.createElement("div");e.classList.add("buble-chat-animation");var t=document.createElement("div");t.classList.add("point-rebotando1");var i=document.createElement("div");i.classList.add("point-rebotando2");var o=document.createElement("div");o.classList.add("point-rebotando3"),e.append(t),e.append(i),e.append(o);var a=document.createElement("i"),n=document.createElement("div");n.classList.add("TnoLYVvCEN"),n.setAttribute("id","improvebot_contenedorPrincipal");var r=document.createElement("div");r.classList.add("aGRohHbaqo"),r.setAttribute("id","improvebot_headerPrincipal"),r.style.background=gTBrmIzuvr.color;var l=document.createElement("div");l.classList.add("imagen-chatbotxtop"),l.style.backgroundImage="url("+("none_image"===gTBrmIzuvr.image?"https://krino.cl/img/improvebot/avatar.svg":gTBrmIzuvr.image)+")";var s=document.createElement("span");s.classList.add("KVwDOaSOKB"),s.innerHTML=gTBrmIzuvr.name_bot;var p=document.createElement("button");p.innerHTML="x",p.style.color=gTBrmIzuvr.color,p.style.minWidth="10px !important",r.append(l),r.append(s),r.append(p),(vktrUabOUS=document.createElement("ul")).classList.add("prbKppPRAs"),vktrUabOUS.setAttribute("id","improvebot_listaPrincipal"),vktrUabOUS.style.color=gTBrmIzuvr.color,(improvebot_ulcards=document.createElement("ul")).classList.add("splide__list"),improvebot_ulcards.setAttribute("id","improvebot_listaPrincipalCards"),improvebot_ulcards.style.color=gTBrmIzuvr.color;var d=document.createElement("div");d.classList.add("splide");var c=document.createElement("div");c.classList.add("splide__track"),c.append(improvebot_ulcards),d.append(c);var m=document.createElement("div");m.classList.add("EEzwrRIdxN"),m.setAttribute("id","improvebot_footerPrincipal"),(KRuQZYzyGZ=document.createElement("div")).classList.add("IUBdLFSJey"),KRuQZYzyGZ.contentEditable=!0,KRuQZYzyGZ.setAttribute("disabled",!0),KRuQZYzyGZ.style.border="2px solid "+gTBrmIzuvr.color,KRuQZYzyGZ.style.color=gTBrmIzuvr.color;var v=document.createElement("button");v.id="sendMessage",v.innerHTML="enviar",v.style.border="2px solid "+gTBrmIzuvr.color,v.style.color=gTBrmIzuvr.color;var b=document.createElement("div");b.id="improve_buttons",b.style.height="227px !important";var y=document.createElement("div");y.classList.add("poweredByKrino"),y.setAttribute("id","improvebot_poweredbyPrincipal");var u=document.createElement("img");u.src="https://static-for-flask-krino.s3.amazonaws.com/static/img/Logo_K_Krino(2).png",u.classList.add("poweredbyimprovebot");var g=document.createElement("button");g.classList.add("buttonKImproveBot");var f=document.createElement("a");f.classList.add("poweredByKrinoAHref"),f.href="https://krino.ai/",f.target="_blank";var h=document.createElement("span");h.innerText="Power by Krino",h.classList.add("textImproveUsedBy"),h.style.padding="10% 0",f.append(u),g.append(f),g.append(h),y.append(g),m.style.display="none",m.append(KRuQZYzyGZ),m.append(v),n.append(r),n.append(vktrUabOUS),n.append(m),n.append(b),n.append(d),n.append(y),divInicial.append(e),divInicial.append(a),divInicial.append(n),"left"==gTBrmIzuvr.position&&(divInicial.style.left="20px",divInicial.style.right="auto",console.log(divInicial.style)),setTimeout(function(){improveBotCallToActionFlag&&ImproveBot_CalltoAction()},5e3)}function wCnJpMUejb(){window.sessionStorage.setItem("jHBpBbxbzB",jHBpBbxbzB)}function HAdmOsSMIr(){return window.sessionStorage.getItem("jHBpBbxbzB")}function ImproveBot_CalltoAction(){var e=document.createElement("button");e.setAttribute("id","divimprovebot_calltoaction"),e.style.display="block",e.style.position="absolute",e.style.width="15px",e.style.minWidth="15px !important",e.style.right="0px",e.style.borderRadius="50%",e.style.backgroundColor="#4a4646f5";var t=document.createElement("a");t.style.color="#fff",t.style.fontFamily="Poppins, sans-serif",t.style.fontSize="8px",t.style.display="block",t.style.margin="15%",t.style.alignSelf="center",t.style.textAlign="center",t.innerHTML="X",e.style.borderStyle="hidden",e.append(t),e.addEventListener("click",function(){var e=document.getElementById("improvebot_calltoaction");e&&(e.style.display="none",document.getElementById("divimprovebot_calltoaction").style.display="none")});var i=document.createElement("div");i.style.display="block",i.style.position="absolute",i.style.width="100%",i.style.height="auto",i.style.bottom="80%",i.style.borderRadius="10px",i.style.backgroundColor="#ffffff",i.style.boxShadow="rgb(0 0 0 / 40%) 2px 3px 3px 1px",i.setAttribute("id","improvebot_calltoaction"),i.style.transition="top 2s",i.style.border="solid 0.5px",i.style.borderColor="grey",i.style.wordBreak="break-word";var o=document.createElement("a");o.style.display="block ",o.style.padding="4.3%",o.innerHTML=improvebot_textoinicio,o.style.color="#000",o.style.fontFamily="Poppins, sans-serif",o.style.fontSize="12px",o.style.alignSelf="center",o.style.textAlign="center",localStorage.setItem("Improve-callToActionTime",Date.now()),i.append(o);var a=document.createElement("div");a.append(i),a.append(e),a.setAttribute("id","divimprovebot_calltoaction_general"),a.style.position="fixed",a.style.right="100px",a.style.width="37%",a.style.bottom="82px",a.style.zIndex="98999898",a.style.maxWidth="370px",a.style.minWidth="306px",yKRsYXgiwS.append(a),"left"==gTBrmIzuvr.position&&(a.style.left="78px",a.style.right="auto",a.style.bottom="100px",e.style.left="-7px",e.style.right="auto",a.style.width="auto"),e.style.bottom="60px",e.style.padding="0px !important"}function ImproveBot_ComeBackButton(){document.getElementById("improvebot_diviframe").remove();var e=document.getElementById("improvebot_listaPrincipal"),t=document.getElementById("improvebot_footerPrincipal");document.getElementById("improvebot_poweredbyPrincipal").style.display="block",e.style.display="block",t.style.display="flex"}function jdZEkhlBLR(){improveBotCallToActionFlag=!1,divInicial.removeAttribute("style");var e=document.getElementById("improvebot_calltoaction");if(e&&(e.style.display="none",document.getElementById("divimprovebot_calltoaction").style.display="none"),divInicial.getElementsByTagName("i")[0].hidden=!0,divInicial.classList.add("PBzfSIFWlv"),divInicial.getElementsByClassName("TnoLYVvCEN")[0].classList.add("RTShwqPmbn"),"left"==gTBrmIzuvr.position&&(divInicial.style.left="20px",divInicial.style.right="auto",console.log(divInicial.style)),KRuQZYzyGZ.addEventListener("keydown",YURsNnADbt),KRuQZYzyGZ.attributes.disabled.value=!1,KRuQZYzyGZ.focus(),divInicial.removeEventListener("click",jdZEkhlBLR),divInicial.querySelector(".aGRohHbaqo button").addEventListener("click",AkcqasBZht),document.getElementById("sendMessage").addEventListener("click",SPQpZDaumm),vktrUabOUS.scrollTop=vktrUabOUS.scrollHeight,!improvebot_iniciado){jHBpBbxbzB=HAdmOsSMIr();var t=improvebotChatBubble();vktrUabOUS.append(t),improvebotPetition("make_chat",{bot:gTBrmIzuvr.id,ip:direccionIP,browser:navigator.userAgent,url:JSON.stringify(window.location),senderId:"",sid_id:""}).then(e=>{jHBpBbxbzB=parseInt(e.id),fetch("https://improvebot.krino.ai/7c7d5ad7ae222ce0aaa8067e50776751f5a55998b390255f0b3b303c06546962",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_chat:jHBpBbxbzB,key:"6FuUm3eE6LxKwGfigbCz5udQ2",dominioWebPage:improvebot_dominioCliente,paginaCliente:improvebot_paginaCliente,origenURL:improvebot_origen})}).then(layRMXrLNe());var t=JSON.stringify({id_unique:improvebotUniqIdChat,id_chat:jHBpBbxbzB,ip:"'"+improvebot_ipCliente+"'"});jHBpBbxbzB>0&&fetch("https://improvebot.krino.ai/f4fc19bdea80e3d91baed924cd0cfe3bdc5e062ac5526b1712b822e18025f66d",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then(e=>{console.log(e)}).catch(e=>{console.error(e)}),wCnJpMUejb()}).catch(e=>console.error(e))}improvebot_iniciado=!0}function improvebotLiveChatFlagInitSocketFunction(){!1==improvebotLiveChatFlagInitSocket&&((socket=io.connect("https://socket-improve.krino.ai/")).on("connect",()=>{socket.emit("identificacion",{idchat:jHBpBbxbzB})}),socket.on("mensaje-personal",function(e){var t=JSON.stringify(e);t=JSON.parse(t),console.log(t),"exit"==t.tipo?(vktrUabOUS.insertAdjacentHTML("beforeend",'<li class="amOArAVraw" style="border: 2px solid #ccc;background-color: #c5a6e070;display: flex;padding: 1px;margin-right: 1%;min-width: 101%;/* wid;width: 100%;;t-align: center; */justify-content: center;">'+mensajeterminoLiveChatIB+"</li>"),improvebotLiveChatFlag=!1,improvebotLiveChatFlagInitSocket=!1,fetch("https://tfn.krino.ai/cambioFaq",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({faq:nextFAQLiveChatIB,chat:jHBpBbxbzB})}).then(e=>e.json()).then(function(e){for(let t in console.log(e),e.elementos)console.log(e.elementos[t]),ozRadApFvB(e.elementos[t],t)}).catch(e=>{console.error(e)}),socket.disconnect()):"iframe"==t.tipo?JAygyvzSWO(!0,t.texto):JAygyvzSWO(!1,t.texto)}),improvebotLiveChatFlagInitSocket=!0)}function AkcqasBZht(){divInicial.classList.add("dnnoPQOJXG"),"no"===gTBrmIzuvr.logo?divInicial.style.backgroundColor=gTBrmIzuvr.color:(divInicial.style.backgroundImage='url("'+gTBrmIzuvr.logo+'")',divInicial.style.backgroundPosition="center",divInicial.style.backgroundSize="contain",divInicial.style.borderRadius="42px",divInicial.style.backgroundRepeat="no-repeat"),yKRsYXgiwS.style.backgroundColor=gTBrmIzuvr.color,divInicial.getElementsByClassName("TnoLYVvCEN")[0].classList.remove("RTShwqPmbn"),divInicial.getElementsByClassName("TnoLYVvCEN")[0].classList.hidden=!0,divInicial.getElementsByTagName("i")[0].hidden=!1,divInicial.classList.remove("PBzfSIFWlv"),divInicial.querySelector(".aGRohHbaqo button").removeEventListener("click",AkcqasBZht),document.getElementById("sendMessage").removeEventListener("click",SPQpZDaumm),KRuQZYzyGZ.removeEventListener("keydown",YURsNnADbt),KRuQZYzyGZ.attributes.disabled.value=!0,KRuQZYzyGZ.blur(),setTimeout(function(){divInicial.getElementsByClassName("TnoLYVvCEN")[0].classList.remove("RTShwqPmbn"),divInicial.getElementsByClassName("TnoLYVvCEN")[0].hidden=!1,divInicial.addEventListener("click",jdZEkhlBLR)},500)}async function SPQpZDaumm(){improvebot_limpiarBotones();var e=KRuQZYzyGZ.innerHTML.replace(/\<div\>|\<br.*?\>/ig,"\n").replace(/\<\/div\>/g,"").trim().replace(/\n/g,"<br>");if(e&&!1!==envioAction){if(envioAction=!1,improvebotHistorialFlag=!1,improvebotHistorial.push({bot_or_human:!1,message:e}),!0==improvebotLiveChatFlag){if(!0==improvebotLiveChatFlagInitSocket){document.getElementsByClassName("IUBdLFSJey").value="";let t=new Date,i=t.getDate(),o=t.getMonth()+1,a=t.getFullYear(),n;n=(n=o<10?`${i}/0${o}/${a}`:`${i}/${o}/${a}`)+", "+(t.getHours()+":"+t.getMinutes()+":")+t.getSeconds(),socket.emit("mensaje-personal",{idchat:jHBpBbxbzB,texto:e,tipo:"iframe",fecha:n})}}else{var r=document.getElementsByClassName("IUBdLFSJey");improvebotPetition("get_ans",{faq:improvebot_FAQActual,bot:gTBrmIzuvr.id,chat:HAdmOsSMIr(),setence:r[0].textContent,url:JSON.stringify(window.location),id_cliente:gTBrmIzuvr.id_fk_cliente}).then(e=>{for(let t in envioAction=!0,improveBotLimpiarBurbuja(),JAygyvzSWO(!0,r[0].textContent,"yes"),r[0].textContent="",e.elementos)console.log(e.elementos),ozRadApFvB(e.elementos[t],t);document.getElementById("improve_buttons").innerHTML=""}).catch(e=>{console.error(e),envioAction=!0})}}}function JAygyvzSWO(e,t,i){var o=document.createElement("li");if(o.classList.add(e?"amOArAVraw":"WrdaMJNcVA"),o.style.border="2px solid "+gTBrmIzuvr.color,!1==e&&improvebotSonido.play(),"string"==typeof t){var a=(t=NIcSfZYyDv(t)).includes("[JUMP_LINE]");a=t.replaceAll("[JUMP_LINE]","<br>"),o.innerHTML=a}else o.append(t);vktrUabOUS.append(o),UzBKRiDTSK()}function improvebot_writecard_element(e){var t=document.createElement("li");t.append(e),t.className="splide__slide";var i=document.getElementById("improvebot_listaPrincipalCards");if(document.getElementsByClassName("splide__slide").length>0){var o=document.getElementsByClassName("splide__arrow--next"),a=document.getElementsByClassName("splide__arrow--prev");o[0].style.boxSizing="content-box",a[0].style.boxSizing="content-box",a[0].style.marginLeft="11%",o[0].style.marginRight="11%",splide.add(t)}else i.append(t),splide=new Splide(".splide",{cover:!0,fixedHeight:"23rem",heightRatio:.5,type:"loop",focus:"center",padding:{right:"20%",left:"20%"}}).mount();var n=document.getElementById("improvebot_contenedorPrincipal"),r=document.getElementById("improvebot_poweredbyPrincipal");null!=r&&r.remove();var l=document.createElement("div");l.classList.add("poweredByKrino"),l.setAttribute("id","improvebot_poweredbyPrincipal");var s=document.createElement("img");s.src="https://static-for-flask-krino.s3.amazonaws.com/static/img/Logo_K_Krino(2).png",s.classList.add("poweredbyimprovebot");var p=document.createElement("button");p.classList.add("buttonKImproveBot");var d=document.createElement("a");d.classList.add("poweredByKrinoAHref"),d.href="https://krino.ai/",d.target="_blank";var c=document.createElement("span");c.innerText="Power by Krino",c.classList.add("textImproveUsedBy"),c.style.padding="10% 0",c.style.marginLeft="5px",d.append(s),p.append(d),p.append(c),l.append(p),n.append(l);var m=document.getElementsByClassName("splide__pagination__page");console.log(m.length);for(let v=0;v<m.length;v++)m[v].style.display="none";UzBKRiDTSK()}function gzTaKGCLli(e,t){var i=document.createElement("button");i.style.backgroundColor=gTBrmIzuvr.color;var o=LmPgXDUjpk(gTBrmIzuvr.color);i.style.color=WuuUyRhAzc(o.r,o.g,o.b)?"#FFFFFF":"#000000",i.addEventListener("click",t),i.innerText=e;var a=document.getElementById("improve_buttons");i.style.marginTop="15px",i.style.marginBottom="15px",i.style.height="30px",i.style.marginLeft="auto",i.style.marginRight="auto",i.style.minHeight="5%",i.className="Buttons_improve",improvebot_cantidadBotones>4?(i.style.marginLeft="15px",i.style.marginRight="15px",i.style.display="initial"):document.querySelectorAll(".Buttons_improve"),a.append(i),UzBKRiDTSK()}function improvebot_deliveryGourmetAPI(){var e=window.localStorage.getItem("accessToken"),t=window.localStorage.getItem("profile"),i=1;(null==e||""==e)&&(i=0,e="vacio"),fetch("https://dev.deliverygourmet.cl/users/info",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.slice(1,-1),origin:improvebot_origen}}).then(o=>{o.json().then(o=>{var a={key:"6FuUm3eE6LxKwGfigbCz5udQ2",id_chat:jHBpBbxbzB,token:e,logueado:i,nombreUsuario:o.name,apellidoUsuario:o.last_name,UIDUserPrincipal:t};fetch("https://improvebot.krino.ai/7c7d5ad7ae222ce0aaa8067e50776751f5a55998b390255f0b3b303c06546962",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(e=>{console.log(e.status)}).catch(e=>{console.log(e)})})})}function improvebotCambiarEstadoALiveChat(e,t){improvebot_limpiarBotones(),improvebot_cambiarEstadoBanderaLiveChat(!0),mensajeterminoLiveChatIB=t,vktrUabOUS.insertAdjacentHTML("beforeend",'<li class="amOArAVraw" style="border: 2px solid #ccc;background-color: #c5a6e070;display: flex;padding: 1px;margin-right: 1%;min-width: 101%;/* wid;width: 100%;;t-align: center; */justify-content: center;">'+e+"</li>"),fetch("https://improvebot.krino.ai/27388b86b2b9762839f54a43952e49c773304deba216e2fe8d65f66b82bf2d57",{method:"POST",body:JSON.stringify({id_chat:jHBpBbxbzB}),headers:{"Content-type":"application/json"}}).then(e=>e.json()),document.getElementById("improvebot_footerPrincipal").style.display="flex"}function improvebotLiveChatButton(e){var t=document.createElement("button");t.style.backgroundColor=gTBrmIzuvr.color;var i=LmPgXDUjpk(gTBrmIzuvr.color);t.style.color=WuuUyRhAzc(i.r,i.g,i.b)?"#FFFFFF":"#000000",t.setAttribute("id","improvebot_btnLiveChat"),t.setAttribute("class","improvebot_btnLiveChat"),t.addEventListener("click",improvebotCambiarEstadoALiveChat),t.innerText=e;var o=document.createElement("div");o.style.height="100%",o.setAttribute("id","improvebot_diviframe");var a=document.getElementById("improve_buttons");t.style.marginBottom="10px",t.style.height="5%",t.style.minHeight="5%",t.style.marginLeft="auto",t.style.marginRight="auto",a.append(t),UzBKRiDTSK()}function improvebotSendNameInputApi(e){return new Promise((t,i)=>{var o=new XMLHttpRequest;o.withCredentials=!1,o.addEventListener("readystatechange",function(){if(4===this.readyState){if(200===this.status)t(JSON.parse(this.responseText));else i(Error("Error"))}}),o.open("POST",DChCJiXPDX),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify({bot:gTBrmIzuvr.id,sentence:e,chat:jHBpBbxbzB,nombre:1}))})}function improvebotSendApi(e,t){return new Promise((i,o)=>{var a=new XMLHttpRequest;a.withCredentials=!1,a.addEventListener("readystatechange",function(){if(4===this.readyState){if(200===this.status)i(JSON.parse(this.responseText));else o(Error("Error"))}}),a.open("POST",DChCJiXPDX+e),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(t)})}function UzBKRiDTSK(){setTimeout(()=>{KRuQZYzyGZ.innerHTML="",KRuQZYzyGZ.focus(),vktrUabOUS.scrollTop=vktrUabOUS.scrollHeight},250)}function YURsNnADbt(e){13===e.keyCode&&SPQpZDaumm()}function NIcSfZYyDv(e){var t=e.split(" ");return(t=t.map(e=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi.test(e)?'<a href="'+e+'" target="_blank">'+e+"</a>":e)).join(" ")}function TMWimaQXDx(){return new Promise((e,t)=>{var i=new XMLHttpRequest;i.withCredentials=!1,i.addEventListener("readystatechange",function(){if(4===this.readyState){for(var t=this.responseText.trim().split("\n"),i={},o=0;o<t.length;o++){var a=t[o].split("=");i[a[0]]=a[1]}(void 0==i.ip||null==i.ip||""==i.ip)&&(direccionIP=""),direccionIP=i.ip,e(i.ip)}}),i.open("GET","https://www.cloudflare.com/cdn-cgi/trace"),i.send()})}function improvebotPetition(e,t){return new Promise((i,o)=>{var a=new XMLHttpRequest;if(a.withCredentials=!1,a.addEventListener("readystatechange",function(){if(4===this.readyState){if(200===this.status)i(JSON.parse(this.responseText));else o(Error("Error"))}}),t.sentence&&(JAygyvzSWO(!0,t.sentence),null==document.getElementById("improvebot_animaciontemporal"))){var n=improvebotChatBubble();vktrUabOUS.append(n)}a.open("POST",DChCJiXPDX+e),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(JSON.stringify(t))})}async function xQqkJkqaXi(){var e=await improvebotPetition("historial",{chat:jHBpBbxbzB,url:window.location.origin});ngDblXlzko(e)}function ngDblXlzko(e){var t=improvebotChatBubble();if(vktrUabOUS.append(t),e.length>0){if(gTBrmIzuvr.id===e[0].bot)e.shift();else{window.sessionStorage.removeItem("jHBpBbxbzB");var i=TMWimaQXDx();improvebotPetition("make_chat",{bot:gTBrmIzuvr.id,ip:i,browser:navigator.userAgent,url:JSON.stringify(window.location),senderId:"",sid_id:""}).then(e=>{jHBpBbxbzB=parseInt(e),wCnJpMUejb()}).catch(e=>console.error(e))}}}function LmPgXDUjpk(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function WuuUyRhAzc(e,t,i){return .2126*e+.7152*t+.0722*i<128}function improveBotLimpiarBurbuja(){if(null!=document.getElementById("improvebot_animaciontemporal")){var e=document.getElementById("improvebot_animaciontemporal");vktrUabOUS.removeChild(e)}}async function improveBotGetBot(e){return new Promise((t,i)=>{improvebotPetition("get_bot",{bot:e}).then(e=>{t(e)}).catch(e=>{i(e)})})}function improveBotActivateInput(){document.getElementById("improvebot_footerPrincipal").style.display="flex"}function improveBotDeactivateInput(){document.getElementById("improvebot_footerPrincipal").style.display="none"}divInicial.addEventListener("click",jdZEkhlBLR),improvebotInit();